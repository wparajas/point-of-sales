<div class="ms-content-wrapper"> 
	<div class="row">
		<div class="col-md-12">
          <nav aria-label="breadcrumb">
              <ol class="breadcrumb pl-0">
                  <li class="breadcrumb-item"><a href="<?= base_url().'Dashboard' ?>"><i class="material-icons fs-16">dashboard</i> Dashboard</a>
                  </li>
                  <li class="breadcrumb-item active" aria-current="page">Company Setup</li>
              </ol>
          </nav>
        </div>
		<div class="col-md-12">
			<div class="ms-panel">
				<div class="ms-panel-header bg-primary d-flex justify-content-between align-items-center">
                	<h6 class="text-light">COMPANY SETUP</h6>
					<button class="btn btn-outline-red submit-btn" id="btn-update"><i class="fa fa-edit"></i> UPDATE</button>
	            </div>
	            <div class="ms-panel-body">
	                <div class="ms-card-body">
						<div class="row">
							<div class="col-sm-6">
								<div class="form-group">
									<label>Company Name <code>*</code></label>
										<input class="form-control" type="hidden" id="companyid" name="companyid" value="">
									<input class="form-control alphanumericwithspacecompany" type="text" name="editcompany" id="company_profileName" value="BlackCoders" description="Company Name" disabled>
									<div class="invalid-feedback" id="edit-company_profileName"></div>
								</div>
							</div>
							<div class="col-sm-6">
								<div class="form-group">
									<label>Contact Person</label>
									<input class="form-control letterswithspace" id="company_profileContactperson"name="editcontactperson" value="Arjay Diangzon" type="text" disabled>
									<div class="invalid-feedback" id="edit-company_profileContactperson"></div>
								</div>
							</div>
						</div>
						<div class="row">
								<div class="col-sm-3">
								<div class="form-group">
									<label>Unit Number</label>
									<input class="form-control alphanumericwithspace" id="company_profileUnit"name="company_profileUnit" value="1702" type="text" disabled>
									<div class="invalid-feedback" id="edit-company_profileUnit"></div>
								</div>
								</div>
								<div class="col-sm-3">
								<div class="form-group">
									<label>Bldg. Name/House Number  <code>*</code></label>
									<input class="form-control alphanumericwithspace" id="company_profileBuilding"name="company_profileBuilding" value="Antel Global" type="text" disabled>
									<div class="invalid-feedback" id="edit-company_profileBuilding"></div>
								</div>
								</div>
								<div class="col-sm-3">
								<div class="form-group">
									<label>Street Name <code>*</code></label>
									<input class="form-control alphanumericwithspace" id="company_profileStreet"name="company_profileStreet" value="Ortigas Center" type="text" description="Street name" disabled>
									<div class="invalid-feedback" id="edit-company_profileStreet"></div>
								</div>
								</div>
								<div class="col-sm-3">
								<div class="form-group">
									<label>Subdivision Name </label>
									<input class="form-control alphanumericwithspace" id="company_profileSubdivision"name="company_profileSubdivision" value="Julia Vargas" type="text" disabled>
									<div class="invalid-feedback" id="edit-company_profileSubdivision"></div>
								</div>
								</div>
						</div>
						<div class="row">
							<div class="col-sm-3">
								<div class="form-group">
									<label>Barangay <code>*</code></label>
									<input class="form-control alphanumericwithspace" id="company_profileBarangay"name="company_profileBarangay" value="San Antonio" type="text" description="company_profileBarangay" disabled>
									<div class="invalid-feedback" id="edit-company_profileBarangay"></div>
								</div>	

							</div>	
							<div class="col-sm-3">
								<div class="form-group">
									<label>Municipality / City <code>*</code></label>
									<input class="form-control letterswithspace"id="company_profileMunicipality"name="company_profileMunicipality" value="Pasig City" type="text" description="company_profileMunicipality" disabled>
									<div class="invalid-feedback" id="edit-company_profileMunicipality"></div>
								</div>
							</div>
							<div class="col-sm-3">
								<div class="form-group">
									<label>Province/State/Country <code>*</code></label>
									<input type="text" class="form-control alphanumericwithspace"id="company_profileCountry"name="company_profileCountry" description="State/Province" value="Philippines" disabled>
									<div class="invalid-feedback" id="edit-company_profileCountry"></div>
								</div>
							</div>
								<div class="col-sm-3">
								<div class="form-group">
									<label>Zip Code <code>*</code></label>
									<input class="form-control alphanumericwithspace"id="company_profileZipcode"name="company_profileZipcode" value="1900" minlength=4 autocomplete="off" type="text" disabled>
									<div class="invalid-feedback" id="edit-company_profileZipcode"></div>
								</div>
							</div>
						</div>
						<div class="row">
							<div class="col-sm-4">
								<div class="form-group">
									<label>Email Address<code>*</code></label>
									<input class="form-control withoutspace" id="company_profileEmail"name="company_profileEmail" value="blackcoders@gmail.com" type="email" disabled>
									<div class="invalid-feedback" id="edit-company_profileEmail"></div>
								</div>
							</div>
							<div class="col-sm-4">
								<div class="form-group">
									<label>Contact Number <code>*</code></label>
									<input class="form-control alphanumericwithspace"id="company_profileContactnumber"name="company_profileContactnumber" value="09099054798" minlength=8 autocomplete="off" type="text"description="Phone number" disabled>
									<div class="invalid-feedback" id="edit-company_profileContactnumber"></div>
								</div>
							</div>
							<div class="col-sm-4">
								<div class="form-group">
									<label>Nature of Business <code>*</code></label>
									<select class="form-control select2" id="company_profileBusiness" name="company_profileBusiness"  multiple="multiple" style="width: 100%;" disabled >
									<option value="0">Select employee name</option>
									<option value="1" selected>Kitchen</option>
									<option value="2" selected>Bar</option>
									</select>
									<div class="invalid-feedback" id="edit-company_profileBusiness"></div>	
								</div>
							</div>
						</div>
						<div class="row">
							<!-- <div class="col-sm-4">
								<div class="form-group">
									<label>Department <code>*</code></label>
									<select class="form-control select2" id="department" name="department"  multiple="multiple" style="width: 100%;" >
									<option value="0">Select employee name</option>
									<option value="1">Kitchen</option>
									<option value="2">Bar</option>
									</select>
									<div class="invalid-feedback" id="business"></div>	
								</div>
							</div> -->
							<div class="col-sm-4">
								<div class="form-group">
									<label>Website URL</label>
									<input class="form-control withoutspace" id="company_profileWebsite"name="company_profileWebsite" value="www.blackcoders.com" type="text" disabled>
									<div class="invalid-feedback" id="edit-company_profileWebsite"></div>
								</div>
							</div>
							<div class="col-sm-4">
								<label>Company logo</label>
							  	<div class="custom-file">
				                  	<input type="file" class="custom-file-input" id="company_profileLogo"name="company_profileLogo" disabled>
				                  	<label class="custom-file-label" for="validatedCustomFile">Choose file...</label>
				                  	<div class="invalid-feedback" id="edit-company_profileLogo">Example invalid custom file feedback</div>
				               	</div>
							</div>
							<div class="col-sm-4">
								<div class="form-group">
									<label>TIN </label>
									<input class="form-control alphanumericwithspace" id="company_profileTin"name="company_profileTin" value="123-321-543-123" placeholder="000-000-000" minlength=11 autocomplete="off" type="text" disabled>
									<div class="invalid-feedback" id="edit-company_profileTin"></div>
								</div>
							</div>
						</div>	
						<div class="row mt-3" id="save-button" style="display: none">
							<div class="col-12 text-right">
								<button class="btn btn-primary" id="btn-update-cancel">CANCEL</button>
								<button class="btn btn-outline-red btn-md update" id="btn-save-update">SAVE</button>
							</div>
						</div>
					</div>
	            </div>
			</div>
		</div>
	</div>
</div>

<div class="modal fade" id="confirmation_edit" tabindex="-1" role="dialog" aria-labelledby="confirmation_edit" data-backdrop="static" data-keyboard="false">
 	<div class="modal-dialog modal-dialog-centered modal-min" role="document">
	  	<div class="modal-content">
	    		<div class="modal-body pb-3 text-center">
		      		<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
		  			<img class="isometric confirmationisometric" width="230px" height="100px" style="text-align: center" src="<?=base_url(); ?>pages/assets/img/modal/confirmation.png">
		  			<h1 class="text-red text-center">UPDATE COMPANY PROFILE</h1>
		            <p class="text-center my-2">Are you sure you want to update company profile?</p>
		            <div class="invalid-feedback" id="confirmation-add-invalid"></div>
	    		</div>
	    		<div class="modal-footer">
	    			<div class="text-center w-100">
						<button type="button" data-dismiss="modal" class="btn btn-outline-primary shadow-none">NO</button>
	    				<button type="button" class="btn btn-primary shadow-none" id="btn-save-">YES</button>
					</div>
	    		</div>
	    </div>
	</div>
</div>

<script type="text/javascript">
	$(document).ready(function() {

		const elemArr = ["company_profileName", "company_profileContactperson", "company_profileUnit", "company_profileBuilding", "company_profileStreet", "company_profileSubdivision", "company_profileBarangay", "company_profileMunicipality", "company_profileCountry", "company_profileZipcode", "company_profileEmail", "company_profileContactnumber", "company_profileBusiness", "company_profileWebsite", "company_profileLogo", "company_profileTin"];
		const elemArrText = ["Name", "Contact Person", "Unit Number", "Building", "Street", "Subdivision", "Barangay", "Municipality", "Country", "Zip Code", "Email", "Contact Number", "Business", "Website", "Logo", "TIN"];
		const elemArrLength = elemArr.length;

		$(document).on("click", "#btn-update-cancel", function() {
			for (var i=0; i<elemArrLength; i++) {
				$("#"+elemArr[i]).attr("disabled", "true");
				$("#"+elemArr[i]).removeClass("is-valid");
				$("#"+elemArr[i]).removeClass("is-invalid");
				$("#edit-"+elemArr[i]).html("");
			}
			$("#save-button").hide();
			$("#btn-update").show();
		})

		$(document).on("click", "#btn-update", function() {
			$("#btn-update").hide();
			$("#save-button").show();
			for (var i=0; i<elemArrLength; i++) {
				$("#"+elemArr[i]).removeAttr("disabled");
				// console.log(elemArr[i]);
			}
		})

		$(document).on("click", "#btn-save-update", function(event){
			event.preventDefault(); 
			const focusElem = [];
			let count = 0;
			for (var i=0; i<elemArrLength; i++) {
				const elem = $("#"+elemArr[i]).val();
				if (elem == "" || elem == null) {
					focusElem.push(elemArr[i]);
					$("#"+elemArr[i]).addClass("is-invalid");
					$("#edit-"+elemArr[i]).html(elemArrText[i]+" is required");
					count++;
				} else {
					$("#"+elemArr[i]).addClass("is-valid");
					$("#"+elemArr[i]).removeClass("is-invalid");
					$("#edit-"+elemArr[i]).html("");
				}
			}
			if (count > 0) {
				$("#"+focusElem[0]).focus();
			} else {
				$('#confirmation_edit').modal({backdrop: 'static', keyboard: false},'show');
			}
	   });	

		$('.select2').select2();

		$("#cncl-edit").unbind('click').bind('click', function(){
			$('#confirmation_edit').modal('hide');
			$('#edit_company').show();
		});	
	});	
</script>